<!-- Loading State (Opcional, si quisieras un spinner global aquí) -->

<!-- ESTADO VACÍO: Si no hay proyectos cargados -->
<div *ngIf="!isLoading && allProjects.length === 0" class="no-projects-experience">
  <div class="contenedor-pagina">
    <p>No tienes proyectos todavía</p>
  </div>
</div>

<!-- CONTENIDO PRINCIPAL: Solo si hay proyectos -->
<div *ngIf="!isLoading && allProjects.length > 0">
  <!-- SECCIÓN BUSCADOR (Hero simplificado) -->
  <section id="hero">
    <div class="contenedor-pagina">
      <div class="hero-content">
        <!-- Eliminado título y textos marketineros -->

        <!-- Buscador -->
        <div class="search-container">
          <label for="searchApp" class="sr-only">Buscar aplicación</label>
          <input #searchInput id="searchApp" type="text" placeholder="Buscar por tecnología, nombre, autor..."
            aria-label="Buscar aplicaciones web y móviles por tecnología, nombre o autor" class="barra-busqueda"
            (keyup.enter)="onSearch(searchInput.value)" />
          <button type="button" class="boton-primario" (click)="onSearch(searchInput.value)"
            aria-label="Ejecutar búsqueda">
            Buscar
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCIÓN DE TODOS LOS PROYECTOS -->
  <section id="all-projects">
    <div class="contenedor-pagina">
      <header>
        <h2 *ngIf="!searchTerm">PROYECTOS</h2>
        <h2 *ngIf="searchTerm">RESULTADOS DE BÚSQUEDA</h2>
        <p *ngIf="searchTerm">
          Encontrados {{ filteredProjects.length }} proyectos para "{{ searchTerm }}"
        </p>
        <p *ngIf="!searchTerm">Explora todas las creaciones de la comunidad</p>
      </header>

      <div class="projects-grid">
        <app-project-card *ngFor="let project of filteredProjects" [project]="project"
          (projectDeleted)="onProjectDeleted()"></app-project-card>
      </div>

      <div *ngIf="filteredProjects.length === 0" class="no-results texto-centrado">
        <p>No se encontraron proyectos.</p>
        <button *ngIf="searchTerm" class="boton-primario mt-1" (click)="onSearch(''); searchInput.value = ''">
          Ver todos los proyectos
        </button>
      </div>
    </div>
  </section>
</div>